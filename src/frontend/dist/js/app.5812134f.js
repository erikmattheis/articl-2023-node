(function(){"use strict";var e={516:function(e,s,t){t(6992),t(8674),t(7727),t(4916);var r=t(9963),a=t(9669),o=t.n(a),n=(t(8862),t(3907)),i=(0,n.MT)({state(){return{user:void 0,userId:void 0,userFullName:void 0,isEmailVerified:void 0,accessTokenExpires:void 0,accessTokenValue:void 0,refreshTokenExpires:void 0,refreshTokenValue:void 0,isLoggedIn:void 0,errorMessage:void 0,errorTitle:void 0,errorFileName:void 0,errorLineNumber:void 0,errorStack:void 0}},mutations:{SET_ACCESS_TOKEN_VALUE(e,s){e.accessTokenValue=s},SET_ACCESS_TOKEN_EXPIRES(e,s){e.accessTokenExpires=s},SET_REFRESH_TOKEN_VALUE(e,s){e.refreshTokenValue=s},SET_REFRESH_TOKEN_EXPIRES(e,s){e.refreshTokenExpires=s},SET_USER(e,s){e.user=s},SET_ERROR_TITLE(e,s){e.errorTitle=s},SET_ERROR_MESSAGE(e,s){e.errorMessage=s},SET_ERROR_FILE_NAME(e,s){e.errorFileName=s},SET_ERROR_LINE_NUMBER(e,s){e.errorLineNumber=s},SET_ERROR_STACK(e,s){e.errorStack=s}},actions:{logout(e){e.commit("SET_ACCESS_TOKEN_EXPIRES",""),e.commit("SET_ACCESS_TOKEN_VALUE",""),e.commit("SET_REFRESH_TOKEN_EXPIRES",""),e.commit("SET_REFRESH_TOKEN_VALUE","")},accessTokenExpires(e,s){s&&e.commit("SET_ACCESS_TOKEN_EXPIRES",s)},accessTokenValue(e,s){s&&e.commit("SET_ACCESS_TOKEN_VALUE",s)},refreshTokenExpires(e,s){s&&e.commit("SET_REFRESH_TOKEN_EXPIRES",s)},refreshTokenValue(e,s){s&&e.commit("SET_REFRESH_TOKEN_VALUE",s)},setUser(e,s){e.commit("SET_USER",s)},setError(e,s){var t,r,a,o,n,i,l,d,u,c,h,p;let m="Error",w="Unknown error",g="",k="",v="";null!==s&&void 0!==s&&null!==(t=s.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.message?w=s.response.data.message:s.message?w=s.message:"string"===typeof s&&s.length&&(w=s),null!==s&&void 0!==s&&null!==(a=s.response)&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.fileName?g=s.response.data.fileName:s.fileName&&(g=s.fileName),null!==s&&void 0!==s&&null!==(n=s.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.stack?(v=s.response.data.stack,v=`${v.slice(0,100)} ${v.slice(100)}`):s.stack&&(v=s.stack),null!==s&&void 0!==s&&null!==(l=s.response)&&void 0!==l&&null!==(d=l.data)&&void 0!==d&&d.lineNumber?k=s.response.data.lineNumber:null!==s&&void 0!==s&&s.lineNumber&&(k=s.message),null!==s&&void 0!==s&&null!==(u=s.response)&&void 0!==u&&null!==(c=u.data)&&void 0!==c&&c.error&&"string"===typeof(null===s||void 0===s?void 0:s.response.data.error)?m=null===s||void 0===s?void 0:s.response.data.error:null!==s&&void 0!==s&&null!==(h=s.response)&&void 0!==h&&null!==(p=h.data)&&void 0!==p&&p.name?m=s.response.data.name:s.name&&(m=s.name),e.commit("SET_ERROR_TITLE",m),e.commit("SET_ERROR_MESSAGE",w),e.commit("SET_ERROR_FILE_NAME",g),e.commit("SET_ERROR_LINE_NUMBER",k),e.commit("SET_ERROR_STACK",v)},clearError(e){e.commit("SET_ERROR_TITLE",""),e.commit("SET_ERROR_MESSAGE",""),e.commit("SET_ERROR_FILE_NAME",""),e.commit("SET_ERROR_LINE_NUMBER",""),e.commit("SET_ERROR_STACK","")}},getters:{user(e){return e.user},userId(e){return e.user.id},userFullName(e){return`${e.user.nameFirst} ${e.user.nameLast}`},isEmailVerified(e){return e.user.isEmailVerified},accessTokenExpires(e){return e.accessTokenExpires},accessTokenValue(e){return e.accessTokenValue},refreshTokenExpires(e){return e.refreshTokenExpires},refreshTokenValue(e){return e.refreshTokenValue},isLoggedIn(e){const s=Date.now();return e.accessTokenExpires>s},errorMessage(e){return e.errorMessage},errorTitle(e){return e.errorTitle},errorFileName(e){return e.errorFileName},errorLineNumber(e){return e.errorLineNumber},errorStack(e){return e.errorStack}}}),l={set(e,s){console.log("setting in local storage",s),localStorage.setItem(e,s),"localhost"===window.location.hostname&&localStorage.getItem(s)},get(e){const s=localStorage.getItem(e);return console.log("getting from local storage",s),s},clear(){return localStorage.clear()}};function d(){let{accessTokenValue:e}=i.getters;return e||(e=l.get("accessTokenValue"),e&&i.dispatch("accessTokenValue",e)),e}function u(){let{refreshTokenValue:e}=i.getters;return e||(e=l.get("refreshTokenValue"),e&&i.dispatch("refreshTokenValue",e)),e}function c(e){var s;null!==e&&void 0!==e&&null!==(s=e.access)&&void 0!==s&&s.token&&(i.dispatch("accessTokenValue",e.access.token),i.dispatch("accessTokenExpires",e.access.expires),i.dispatch("refreshTokenValue",e.refresh.token),i.dispatch("refreshTokenExpires",e.refresh.expires))}function h(e){var s;null!==e&&void 0!==e&&null!==(s=e.access)&&void 0!==s&&s.token&&(l.set("accessTokenValue",e.access.token),l.set("accessTokenExpires",e.access.expires),l.set("refreshTokenValue",e.refresh.token),l.set("refreshTokenExpires",e.refresh.expires))}function p(e){var s;if(null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.tokens){const s=JSON.parse(JSON.stringify(e));return s.data.tokens.access.expires=Date.parse(s.data.tokens.access.expires),s.data.tokens.refresh.expires=Date.parse(s.data.tokens.refresh.expires),s}return{}}var m=t(2119),w=t(6252),g=t(3577);const k=(0,w.Uk)(" New Category ");function v(e,s,t,r,a,o){const n=(0,w.up)("router-link");return(0,w.wg)(),(0,w.iD)("article",null,[(0,w._)("h2",null,(0,g.zw)(a.title),1),(0,w._)("ul",null,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(a.categories||[],(e=>((0,w.wg)(),(0,w.iD)("li",{key:e.slug},[(0,w.Wm)(n,{to:{name:"CategoryPage",params:{slug:e.slug}}},{default:(0,w.w5)((()=>[(0,w.Uk)((0,g.zw)(e.title),1)])),_:2},1032,["to"])])))),128)),(0,w._)("li",null,[(0,w.Wm)(n,{to:{name:"createCategoryPage",params:{slug:"0"}}},{default:(0,w.w5)((()=>[k])),_:1})])])])}var y={name:"HomePage",data(){return{isLoading:!0,slug:null,title:"",categories:[]}},created(){this.categories=this.fetchData("0")},methods:{async fetchData(e){try{const s=await this.getCategoryPageBySlug(e);this.categories=s.categories}catch(s){this.$store.dispatch("setError",s)}},getCategoryPageBySlug(e){return this.$http({method:"GET",url:`/d/${e||""}`})}}},f=t(3744);const _=(0,f.Z)(y,[["render",v]]);var b=_;const E=(0,w.Uk)(" New Category ");function P(e,s,t,r,a,o){const n=(0,w.up)("router-link");return(0,w.wg)(),(0,w.iD)("article",null,[(0,w._)("h2",null,(0,g.zw)(a.title),1),(0,w._)("ul",null,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(a.categories||[],(e=>((0,w.wg)(),(0,w.iD)("li",{key:e.slug},[(0,w.Wm)(n,{to:{name:"CategoryPage",params:{slug:e.slug}}},{default:(0,w.w5)((()=>[(0,w.Uk)((0,g.zw)(e.title),1)])),_:2},1032,["to"])])))),128)),(0,w._)("li",null,[(0,w.Wm)(n,{to:{name:"createCategoryPage",params:{slug:"0"}}},{default:(0,w.w5)((()=>[E])),_:1})])])])}var T={name:"CategoryPage",data(){return{isLoading:!0,slug:null,title:"",categories:[]}},created(){this.categories=this.fetchData(this.$route.params.slug)},watch:{"$route.params.slug":{handler(e){this.fetchData(e)},immediate:!0}},methods:{async fetchData(e){const s=await this.getCategoryPageBySlug(e);this.title=s.category.length?s.category[0].title:"",this.categories=s.categories},getCategoryPageBySlug(e){return this.$http({method:"GET",url:`/d/${e||""}`}).then((e=>e.data?e.data:this.$store.dispatch("setError",e))).catch((e=>this.$store.dispatch("setError",e)))}}};const D=(0,f.Z)(T,[["render",P]]);var S=D;const M=e=>((0,w.dD)("data-v-5457b6db"),e=e(),(0,w.Cn)(),e),C={key:0},I={key:1},F={key:2},R=M((()=>(0,w._)("label",{for:"email"},"Email",-1))),$={for:"password"},U=(0,w.Uk)("Password "),N={key:0,class:"lighter left-space"},x={key:1,class:"lighter left-space"},L={class:"toggle-password"},V=M((()=>(0,w._)("label",{for:"password2"},"Confirm Password",-1))),A={class:"toggle-password"},q={key:0},O=["aria-busy"],Z={key:0};function z(e,s,t,a,o,n){const i=(0,w.up)("the-button-toggle-hidden"),l=(0,w.up)("card-notification");return(0,w.wg)(),(0,w.iD)("article",null,[o.success?((0,w.wg)(),(0,w.iD)("h1",I,"Account created")):((0,w.wg)(),(0,w.iD)("h1",C,"Create account")),o.success?((0,w.wg)(),(0,w.j4)(l,{key:3,"success-message":"Congradulations! Please check\n    your email to verify your email address"})):((0,w.wg)(),(0,w.iD)("form",F,[R,(0,w.wy)((0,w._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.email=e),type:"text",name:"email",id:"email",autocomplete:"email"},null,512),[[r.nr,o.email]]),(0,w._)("label",$,[U,o.passwordComplexity<3?((0,w.wg)(),(0,w.iD)("small",N," Please use uppercase and lowercase letters, digits and special characters.")):o.password.length<8?((0,w.wg)(),(0,w.iD)("small",x," Please use 8 or more characters. ")):(0,w.kq)("",!0)]),(0,w._)("div",L,[o.showPassword?(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:0,"onUpdate:modelValue":s[1]||(s[1]=e=>o.password=e),type:"text",name:"password",id:"password",autocomplete:"new-password"},null,512)),[[r.nr,o.password]]):(0,w.kq)("",!0),o.showPassword?(0,w.kq)("",!0):(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:1,"onUpdate:modelValue":s[2]||(s[2]=e=>o.password=e),type:"password",name:"password",id:"password",autocomplete:"new-password"},null,512)),[[r.nr,o.password]]),(0,w.Wm)(i,{class:"togglePasswordMask",onShow:s[3]||(s[3]=e=>o.showPassword=!o.showPassword)})]),V,(0,w._)("div",A,[o.showPassword2?(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:0,"onUpdate:modelValue":s[4]||(s[4]=e=>o.password2=e),type:"text",name:"password2",id:"password2",autocomplete:"new-password"},null,512)),[[r.nr,o.password2]]):(0,w.kq)("",!0),o.showPassword2?(0,w.kq)("",!0):(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:1,"onUpdate:modelValue":s[5]||(s[5]=e=>o.password2=e),type:"password",name:"password2",id:"password2",autocomplete:"new-password"},null,512)),[[r.nr,o.password2]]),(0,w.Wm)(i,{class:"togglePasswordMask",onShow:s[6]||(s[6]=e=>o.showPassword2=!o.showPassword2)})]),o.passwordInvalid?((0,w.wg)(),(0,w.iD)("div",q)):(0,w.kq)("",!0),(0,w._)("button",{type:"submit",id:"Login","aria-busy":o.buttonDisabled,onClick:s[7]||(s[7]=(0,r.iM)((e=>n.submitForm()),["prevent"]))},[o.buttonDisabled?(0,w.kq)("",!0):((0,w.wg)(),(0,w.iD)("span",Z,"Create Account"))],8,O)]))])}t(5306);const W=e=>((0,w.dD)("data-v-0bc95760"),e=e(),(0,w.Cn)(),e),H=W((()=>(0,w._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 750 440",alt:"Unmask"},[(0,w._)("title",null,"Unmask password"),(0,w._)("path",{class:"a",d:"M286.5,277c0,1,0,2,.08,3L349,209.24A68,68,0,0,0,286.5,277Z"}),(0,w._)("path",{class:"a",d:"M354.5,176.2a101.35,101.35,0,0,1,21.62,2.33l25.63-29.05a286.88,\n            286.88,0,0,0-288.44,128A287.92,287.92,0,0,0,208,369.13l51.51-58.39a100.86,\n            100.86,0,0,1,95-134.54Z"}),(0,w._)("path",{d:"M354.5,345c-1.7,0-3.37-.08-5-.21l-25.07,28.43A100.84,100.84,0,0,0,\n            446.21,235.13l-25,28.39A68,68,0,0,1,354.5,345Z"}),(0,w._)("path",{d:"M614.07,244.14a322.06,322.06,0,0,0-97.61-88.64l-23,26a287.85,287.85,0,0,\n            1,102.2,96A286.18,286.18,0,0,1,354.5,409.4a288,288,0,0,1-57-5.68l-25.54,\n            28.95a320.6,320.6,0,0,0,82.56,10.74c106.78,0,201.35-52.24,259.57-132.55a319.68,\n            319.68,0,0,0,21.18-33.36A319.68,319.68,0,0,0,614.07,244.14Z"}),(0,w._)("path",{d:"M306.65,325.3l89.8-101.79,21.74-24.64,32.41-36.74,24-27.25,13.22-15A12,12,\n            0,0,0,486.8,103L471.05,89.07a12,12,0,0,0-16.94,1.06L427.75,120a321.36,321.36,\n            0,0,0-73.25-8.41c-106.78,0-201.35,52.24-259.57,132.55A319.68,319.68,0,0,0,\n            73.75,277.5a319.68,319.68,0,0,0,21.18,33.36A322.18,322.18,0,0,0,185.14,\n            395L158.4,425.33a12,12,0,0,0,1.06,16.94l15.75,13.89a12,12,0,0,0,\n            16.93-1.06l34-38.47,23.77-27,35.06-39.74ZM286.58,280c-.05-1-.08-2-.08-3A68,\n            68,0,0,1,349,209.24ZM208,369.13a287.92,287.92,0,0,1-94.67-91.63,286.88,286.88,0,0,1,\n            288.44-128l-25.63,29.05A100.86,100.86,0,0,0,259.49,310.74Z"})],-1))),K=[H],B=W((()=>(0,w._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 750 440",alt:"Mask"},[(0,w._)("title",null,"Mask password"),(0,w._)("circle",{class:"a",cx:"280.8",cy:"165.5",r:"68"}),(0,w._)("path",{class:"a",d:"M354.5,145.6A286.2,286.2,0,0,0,113.3,277.5a286.49,286.49,0,0,0,482.4,0A286.2,286.2,\n            0,0,0,354.5,145.6Zm0,232.2A100.8,100.8,0,1,1,455.3,277,100.76,100.76,0,0,1,354.5,377.8Z"}),(0,w._)("path",{d:"M354.5,176.2A100.8,100.8,0,1,0,455.3,277,100.76,100.76,0,0,0,354.5,176.2Zm0,168.8a68,\n            68,0,1,1,68-68A67.94,67.94,0,0,1,354.5,345Z"}),(0,w._)("path",{d:"M614.1,244.1c-58.2-80.3-152.8-132.6-259.6-132.6S153.2,163.8,94.9,244.1a319.67,319.67,\n            0,0,0-21.2,33.4,330.49,330.49,0,0,0,21.2,33.4c58.2,80.3,152.8,132.6,259.6,\n            132.6s201.3-52.2,259.6-132.6a319.67,319.67,0,0,0,21.2-33.4A330.49,330.49,0,0,0,\n            614.1,244.1ZM354.5,409.4A286.2,286.2,0,0,1,113.3,277.5a286.49,286.49,0,0,1,\n            482.4,0A286.2,286.2,0,0,1,354.5,409.4Z"})],-1))),j=[B];function G(e,s,t,a,o,n){return(0,w.wg)(),(0,w.iD)("div",null,[o.show?((0,w.wg)(),(0,w.iD)("a",{key:0,onClick:s[0]||(s[0]=(0,r.iM)((s=>{e.$emit("show"),o.show=!o.show}),["prevent"])),onKeypress:s[1]||(s[1]=(0,r.D2)((e=>this.focus()),["esc"]))},K,32)):(0,w.kq)("",!0),o.show?(0,w.kq)("",!0):((0,w.wg)(),(0,w.iD)("a",{key:1,onClick:s[2]||(s[2]=(0,r.iM)((s=>{e.$emit("show"),o.show=!o.show}),["prevent"])),onKeypress:s[3]||(s[3]=(0,r.D2)((e=>this.focus()),["esc"]))},j,32))])}var Y={data(){return{show:!1}},emits:["show"]};const X=(0,f.Z)(Y,[["render",G],["__scopeId","data-v-0bc95760"]]);var J=X;const Q={class:"tab",title:"success"},ee={class:"info"};function se(e,s,t,r,a,o){const n=(0,w.up)("vue-feather");return(0,w.wg)(),(0,w.iD)("section",null,[(0,w._)("div",Q,[(0,w.Wm)(n,{size:"60",type:"check"})]),(0,w._)("div",ee,[(0,w._)("aside",null,(0,g.zw)(t.successMessage),1)])])}var te=t(2801),re={data(){return{title:""}},components:{VueFeather:te.Z},props:{successMessage:String}};const ae=(0,f.Z)(re,[["render",se],["__scopeId","data-v-9fd4b170"]]);var oe=ae,ne={name:"RegisterPage",components:{TheButtonToggleHidden:J,CardNotification:oe},data(){return{email:null,emailInvalid:null,password:null,passwordInvalid:null,showPassword:!1,password2:null,passwordInvalid2:null,showPassword2:!1,buttonDisabled:!1,passwordMismatch:!1,passwordComplexity:0,errorMessage:"",success:!1,result:null,chrs:0}},watch:{password:{handler(e){this.passwordComplexity=this.scoreChars(e)}}},methods:{charCounts(e){return{numUpper:e.length-e.replace(/[A-Z]/g,"").length,numLower:e.length-e.replace(/[a-z]/g,"").length,numDigit:e.length-e.replace(/[0-9]/g,"").length,numSpecial:e.length-e.replace(/\W|_/g,"").length}},scoreChars(e){if(!e)return 0;const s=this.charCounts(e),t=s.numUpper>0?1:0,r=s.numLower>0?1:0,a=s.numDigit>0?1:0,o=s.numSpecial>0?1:0;return t+r+a+o},resetFormErrors(){this.emailInvalid=!1,this.passwordInvalid=!1,this.passwordMismatch=!1,this.success=null,this.result=null,this.errorMessage=""},checkForm(){this.resetFormErrors();let e=!0;return this.validateEmail(this.email)?this.scoreChars(this.password)<3?(this.passwordInvalid=!0,this.errorMessage="Please choose a more complex password.",e=!1):this.password&&this.password.length<8?(this.passwordInvalid=!0,this.errorMessage="Please choose a longer password.",e=!1):this.password!==this.password2&&(this.passwordMismatch=!0,this.errorMessage="The password fields must match.",e=!1):(this.emailInvalid=!0,this.errorMessage="Please enter a valid email.",e=!1),e},validateEmail(e){return!!e&&e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},async submitForm(){this.resetFormErrors(),!0===this.checkForm()?(this.buttonDisabled=!0,this.$http({method:"POST",url:"/auth/register",data:{nameFirst:this.nameFirst,nameLast:this.nameLast,password:this.password,email:this.email}}).then((e=>{e.data&&(this.success=!0,this.result=e.data)})).catch((e=>{this.$store.dispatch("setError",e)})).finally((()=>{this.buttonDisabled=!1}))):this.$store.dispatch("setError",{message:this.errorMessage})}}};const ie=(0,f.Z)(ne,[["render",z],["__scopeId","data-v-5457b6db"]]);var le=ie;const de=["innerHTML"];function ue(e,s,t,r,a,o){return(0,w.wg)(),(0,w.iD)("article",null,[(0,w._)("h1",null,(0,g.zw)(a.resultTitle),1),a.result?((0,w.wg)(),(0,w.iD)("p",{key:0,innerHTML:a.result},null,8,de)):(0,w.kq)("",!0)])}var ce={name:"EmailVerify",data(){return{resultTitle:null,result:null}},methods:{async submitForm(){this.buttonDisabled=!0,this.$http({method:"GET",url:`/auth/verify-email?token=${this.$route.query.token}`}).then((e=>{204===e.status?this.result='Your email address is verified. Please <a href="/login">log in</a> to continue.':this.$store.dispatch("setError",e)})).catch((e=>{this.dataInvalid=!0,this.$store.dispatch("setError",e)})).finally((()=>{this.buttonDisabled=!1}))}},mounted(){this.submitForm()}};const he=(0,f.Z)(ce,[["render",ue]]);var pe=he;const me=e=>((0,w.dD)("data-v-42102aee"),e=e(),(0,w.Cn)(),e),we=me((()=>(0,w._)("h1",null,"Log in",-1))),ge=me((()=>(0,w._)("label",{for:"email"},"Email",-1))),ke=me((()=>(0,w._)("label",{for:"password"},"Password",-1))),ve={class:"toggle-password"},ye=["aria-busy"],fe={key:0};function _e(e,s,t,a,o,n){const i=(0,w.up)("the-button-toggle-hidden");return(0,w.wg)(),(0,w.iD)("article",null,[we,(0,w._)("form",null,[ge,(0,w.wy)((0,w._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.email=e),type:"text",name:"email",id:"email",autocomplete:"email"},null,512),[[r.nr,o.email]]),ke,(0,w._)("div",ve,[o.showPassword?(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:0,"onUpdate:modelValue":s[1]||(s[1]=e=>o.password=e),type:"text",name:"password",id:"password",autocomplete:"current-password"},null,512)),[[r.nr,o.password]]):(0,w.kq)("",!0),o.showPassword?(0,w.kq)("",!0):(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:1,"onUpdate:modelValue":s[2]||(s[2]=e=>o.password=e),type:"password",name:"password",id:"password",autocomplete:"current-password"},null,512)),[[r.nr,o.password]]),(0,w.Wm)(i,{class:"togglePasswordMask",onShow:s[3]||(s[3]=e=>o.showPassword=!o.showPassword)})]),(0,w._)("button",{type:"submit",id:"Login","aria-busy":o.buttonDisabled,onClick:s[4]||(s[4]=(0,r.iM)((e=>n.submitForm()),["prevent"]))},[o.buttonDisabled?(0,w.kq)("",!0):((0,w.wg)(),(0,w.iD)("span",fe,"Login"))],8,ye)])])}var be={validateEmail(e){return!!e&&e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}},Ee={name:"LoginPage",components:{TheButtonToggleHidden:J},data(){return{email:null,emailInvalid:null,password:null,passwordInvalid:null,showPassword:!1,buttonDisabled:!1}},methods:{handleLoginSuccess(e){if(e.code>309)return void this.$store.dispatch("setError",e);this.resetFormErrors();const s=p(e);h(s.data.tokens),c(s.data.tokens),this.$route.query.redirect&&"/login"!==this.$route.query.redirect?this.$router.push({path:this.$route.query.redirect}):this.$router.push({name:"HomePage"})},resetFormErrors(){this.errorMessage=""},checkForm(){let e=!0;return be.validateEmail(this.email)?this.password&&this.password.length<8&&(this.errorMessage="Passwords are at least eight characters.",e=!1):(this.errorMessage="Please enter a valid email.",e=!1),e},async submitForm(){!0===this.checkForm()?(this.buttonDisabled=!0,this.$http({method:"POST",url:"/auth/login",data:{password:this.password,email:this.email}}).then(this.handleLoginSuccess).catch((e=>{this.$store.dispatch("setError",e)})).finally((()=>{this.buttonDisabled=!1}))):this.$store.dispatch("setError",{message:this.errorMessage})}}};const Pe=(0,f.Z)(Ee,[["render",_e],["__scopeId","data-v-42102aee"]]);var Te=Pe;const De=(0,w._)("h1",null,"Forgot password",-1),Se={key:0},Me=(0,w._)("label",{for:"email"},"Email",-1),Ce=["aria-busy"],Ie={key:0},Fe={key:1},Re={key:2,class:"error"};function $e(e,s,t,a,o,n){return(0,w.wg)(),(0,w.iD)("article",null,[De,o.result?(0,w.kq)("",!0):((0,w.wg)(),(0,w.iD)("form",Se,[Me,(0,w.wy)((0,w._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.email=e),type:"text",name:"email",id:"email",autocomplete:"email"},null,512),[[r.nr,o.email]]),(0,w._)("button",{type:"submit",id:"reset","aria-busy":o.buttonDisabled,onClick:s[1]||(s[1]=(0,r.iM)((e=>n.submitForm()),["prevent"]))},[o.buttonDisabled?(0,w.kq)("",!0):((0,w.wg)(),(0,w.iD)("span",Ie,"Reset"))],8,Ce)])),o.result?((0,w.wg)(),(0,w.iD)("p",Fe,(0,g.zw)(o.result),1)):(0,w.kq)("",!0),o.errorMessage?((0,w.wg)(),(0,w.iD)("p",Re,(0,g.zw)(o.errorMessage),1)):(0,w.kq)("",!0)])}var Ue={name:"ForgotPass",data(){return{email:null,emailInvalid:null,errorMessage:"",buttonDisabled:!1,result:null}},methods:{resetForm(){this.emailInvalid=null,this.result=null},checkForm(){return""!==this.email},async submitForm(){this.resetForm(),!0===this.checkForm()&&(this.buttonDisabled=!0,this.$http({method:"POST",url:"/auth/forgot-password",data:{email:this.email}}).then((e=>{var s,t;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.message?this.result=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message:this.result=e.response})).catch((e=>{this.$store.dispatch("setError",e)})).finally((()=>{this.buttonDisabled=!1})))}}};const Ne=(0,f.Z)(Ue,[["render",$e]]);var xe=Ne;const Le=(0,w._)("h1",null,"Reset password",-1),Ve={"ng-if":"!result"},Ae=(0,w._)("label",{for:"password"}," New Password",-1),qe={class:"toggle-password"},Oe=(0,w._)("label",{for:"password2"}," Confirm Password",-1),Ze={class:"toggle-password"},ze={key:0},We=["aria-busy"],He={key:0},Ke={key:1,class:"invalid"};function Be(e,s,t,a,o,n){const i=(0,w.up)("the-button-toggle-hidden");return(0,w.wg)(),(0,w.iD)("article",null,[Le,(0,w._)("form",Ve,[Ae,(0,w._)("div",qe,[o.showPassword?(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:0,"onUpdate:modelValue":s[0]||(s[0]=e=>o.password=e),type:"text",name:"password",id:"password"},null,512)),[[r.nr,o.password]]):(0,w.kq)("",!0),o.showPassword?(0,w.kq)("",!0):(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:1,"onUpdate:modelValue":s[1]||(s[1]=e=>o.password=e),type:"password",name:"password",id:"password"},null,512)),[[r.nr,o.password]]),(0,w.Wm)(i,{class:"togglePasswordMask",onShowPassword:s[2]||(s[2]=e=>o.showPassword=!o.showPassword)})]),Oe,(0,w._)("div",Ze,[o.showPassword2?(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:0,"onUpdate:modelValue":s[3]||(s[3]=e=>o.password2=e),type:"text",name:"password2",id:"password2"},null,512)),[[r.nr,o.password2]]):(0,w.kq)("",!0),o.showPassword2?(0,w.kq)("",!0):(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:1,"onUpdate:modelValue":s[4]||(s[4]=e=>o.password2=e),type:"password",name:"password",id:"password2"},null,512)),[[r.nr,o.password2]]),(0,w.Wm)(i,{class:"togglePasswordMask",onShowPassword:s[5]||(s[5]=e=>o.showPassword2=!o.showPassword2)})]),o.dataInvalid?((0,w.wg)(),(0,w.iD)("div",ze)):(0,w.kq)("",!0),(0,w._)("button",{type:"submit",id:"reset","aria-busy":o.buttonDisabled,onClick:s[6]||(s[6]=(0,r.iM)((e=>n.submitForm()),["prevent"]))},[o.buttonDisabled?(0,w.kq)("",!0):((0,w.wg)(),(0,w.iD)("span",He,"Reset Password"))],8,We),o.result?((0,w.wg)(),(0,w.iD)("p",Ke,(0,g.zw)(o.result),1)):(0,w.kq)("",!0)])])}var je={name:"PasswordReset",components:{TheButtonToggleHidden:J},data(){return{password:null,passwordInvalid:null,showPassword:!1,password2:null,passwordInvalid2:null,showPassword2:!1,buttonDisabled:!1,dataInvalid:null,result:null,message:null}},methods:{resetForm(){this.passwordInvalid=null,this.passwordInvalid2=null,this.dataInvalid=!1,this.success=null,this.result=null},checkForm(){let e=!0;return""===this.password&&(this.passwordInvalid=!0,this.message+="Password may not be empty",e=!1),""===this.password2&&(this.passwordInvalid=!0,this.message+=this.message&&this.message.length?", ":"",this.message+="Password confirmation may not be empty",e=!1),this.password!==this.password2&&(this.dataInvalid=!0,this.message+=this.message&&this.message.length?", ":"",this.message="Confirmation password does not match",e=!1),e},async submitForm(){const{token:e}=this.$route.query;!0===this.checkForm()&&(this.buttonDisabled=!0,this.$http({method:"POST",url:"/auth/reset-password",data:{token:e,password:this.password}}).then((()=>{this.result="You have successfully changed your password."})).catch((e=>{this.dataInvalid=!0,this.$store.dispatch("setError",e)})).finally((()=>{this.buttonDisabled=!1})))}}};const Ge=(0,f.Z)(je,[["render",Be]]);var Ye=Ge;const Xe=(0,w._)("article",null,[(0,w._)("h1",null,"Page not found"),(0,w._)("p",null,"This page could not be found.")],-1),Je=[Xe];function Qe(e,s){return(0,w.wg)(),(0,w.iD)("article",null,Je)}const es={},ss=(0,f.Z)(es,[["render",Qe]]);var ts=ss;const rs=e=>((0,w.dD)("data-v-656b3c89"),e=e(),(0,w.Cn)(),e),as={class:"grid"},os=rs((()=>(0,w._)("label",{for:"nameFirst"},"First Name",-1))),ns=rs((()=>(0,w._)("label",{for:"nameLast"},"Last Name",-1))),is=rs((()=>(0,w._)("label",{for:"email"},"Email",-1))),ls=rs((()=>(0,w._)("label",{for:"institution"},"Institution",-1))),ds=rs((()=>(0,w._)("label",{for:"education"},"Education",-1))),us=["aria-busy"],cs={key:0},hs=rs((()=>(0,w._)("label",{for:"password"},"Current Password",-1))),ps={class:"toggle-password"},ms=rs((()=>(0,w._)("label",{for:"newPassword"},"New Password",-1))),ws={class:"toggle-password"},gs=rs((()=>(0,w._)("label",{for:"password2"},"Confirm Password",-1))),ks={class:"toggle-password"},vs={key:0},ys=["aria-busy"],fs={key:0},_s={key:1,class:"invalid"},bs={key:2};function Es(e,s,t,a,o,n){const i=(0,w.up)("the-button-toggle-hidden");return(0,w.wg)(),(0,w.iD)("form",null,[(0,w._)("article",null,[(0,w._)("fieldset",as,[(0,w._)("div",null,[os,(0,w.wy)((0,w._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.nameFirst=e),type:"text",name:"nameFirst",id:"nameFirst",autocomplete:"given-name"},null,512),[[r.nr,o.nameFirst]])]),(0,w._)("div",null,[ns,(0,w.wy)((0,w._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>o.nameLast=e),type:"text",name:"nameLast",id:"nameLast",autocomplete:"family-name"},null,512),[[r.nr,o.nameLast]])])]),is,(0,w.wy)((0,w._)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>o.email=e),type:"text",name:"email",id:"email",autocomplete:"email"},null,512),[[r.nr,o.email]]),ls,(0,w.wy)((0,w._)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>o.institution=e),type:"text",name:"institution",id:"institution"},null,512),[[r.nr,o.institution]]),ds,(0,w.wy)((0,w._)("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>o.education=e),type:"text",name:"education",id:"education"},null,512),[[r.nr,o.education]]),(0,w._)("button",{type:"submit",id:"Login","aria-busy":o.buttonDisabled,onClick:s[5]||(s[5]=(0,r.iM)((s=>e.submitUserForm()),["prevent"]))},[o.buttonDisabled?(0,w.kq)("",!0):((0,w.wg)(),(0,w.iD)("span",cs,"Save Changes"))],8,us)]),(0,w._)("article",null,[hs,(0,w._)("div",ps,[o.showPassword?(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:0,"onUpdate:modelValue":s[6]||(s[6]=e=>o.password=e),type:"text",name:"password",id:"password",autocomplete:"current-password"},null,512)),[[r.nr,o.password]]):(0,w.kq)("",!0),o.showPassword?(0,w.kq)("",!0):(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:1,"onUpdate:modelValue":s[7]||(s[7]=e=>o.password=e),type:"password",name:"password",id:"password",autocomplete:"current-password"},null,512)),[[r.nr,o.password]]),(0,w.Wm)(i,{class:"togglePasswordMask",onShow:s[8]||(s[8]=e=>o.showPassword=!o.showPassword)})]),ms,(0,w._)("div",ws,[o.showNewPassword?(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:0,"onUpdate:modelValue":s[9]||(s[9]=e=>o.newPassword=e),type:"text",name:"newPassword",id:"newPassword",autocomplete:"new-password"},null,512)),[[r.nr,o.newPassword]]):(0,w.kq)("",!0),o.showNewPassword?(0,w.kq)("",!0):(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:1,"onUpdate:modelValue":s[10]||(s[10]=e=>o.newPassword=e),type:"password",name:"newPassword",id:"newPassword",autocomplete:"new-password"},null,512)),[[r.nr,o.newPassword]]),(0,w.Wm)(i,{class:"togglePasswordMask",onShow:s[11]||(s[11]=e=>o.showNewPassword=!o.showNewPassword)})]),gs,(0,w._)("div",ks,[o.showNewPassword2?(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:0,"onUpdate:modelValue":s[12]||(s[12]=e=>o.newPassword2=e),type:"text",name:"newPassword2",id:"newPassword2",autocomplete:"new-password"},null,512)),[[r.nr,o.newPassword2]]):(0,w.kq)("",!0),o.showPassword2?(0,w.kq)("",!0):(0,w.wy)(((0,w.wg)(),(0,w.iD)("input",{key:1,"onUpdate:modelValue":s[13]||(s[13]=e=>o.newPassword2=e),type:"password",name:"newPassword2",id:"newPassword2",autocomplete:"new-password"},null,512)),[[r.nr,o.newPassword2]]),(0,w.Wm)(i,{class:"togglePasswordMask",onShow:s[14]||(s[14]=e=>o.showNewPassword2=!o.showNewPassword2)})]),o.newPasswordInvalid?((0,w.wg)(),(0,w.iD)("div",vs)):(0,w.kq)("",!0),(0,w._)("button",{type:"submit",id:"passwordButton","aria-busy":o.buttonDisabled2,onClick:s[15]||(s[15]=(0,r.iM)((e=>n.submitPasswordForm()),["prevent"]))},[o.buttonDisabled2?(0,w.kq)("",!0):((0,w.wg)(),(0,w.iD)("span",fs,"Update Password"))],8,ys),o.result?((0,w.wg)(),(0,w.iD)("p",_s,(0,g.zw)(o.result),1)):(0,w.kq)("",!0),o.success?((0,w.wg)(),(0,w.iD)("p",bs," Please verify your email address by following the instructions sent to "+(0,g.zw)(o.email)+". ",1)):(0,w.kq)("",!0)])])}t(1703);var Ps={name:"UserPage",components:{TheButtonToggleHidden:J},data(){return{id:"",nameFirst:"",nameLast:"",institution:"",education:"",email:null,emailInvalid:null,password:null,passwordInvalid:null,showPassword:!1,password2:null,passwordInvalid2:null,showPassword2:!1,newPassword:null,newPasswordInvalid:null,showNewPassword:!1,newPassword2:null,newPasswordInvalid2:null,showNewPassword2:!1,buttonDisabled:!1,buttonDisabled2:!1,passwordMismatch:!1,success:null,result:null}},mounted(){let e;if(this.$route.params.userId)e=this.$route.params.userId;else{if(!this.$state.getters.userId)throw new Error("You must have an account to view others.");e=this.$state.getters.userId}this.getUser(e)},methods:{resetUserForm(){this.emailInvalid=null,this.success=null,this.result=null},checkUserForm(){let e=!0;return this.validateEmail(this.email)||(this.emailInvalid=!0,e=!1),e},checkPasswordForm(){let e=!0;return this.validatePassword(this.newPassword)||(this.passwordInvalid=!0,e=!1),this.validatePassword(this.newPassword2)||(this.passwordInvalid2=!0,e=!1),this.password!==this.newPassword2&&(this.passwordMismatch=!0,e=!1),e},validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},validatePassword(e){return e.match(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)},async getUser(e){e&&this.$http({method:"GET",url:`/users/${e}`}).then((e=>{e.data&&(this.success=!0,this.result=e.data)})).catch((e=>{this.$store.dispatch("setError",e)})).finally((()=>{this.buttonDisabled=!1}))},async submitPasswordForm(){const{token:e}=this.$route.query;!0===this.checkPasswordForm()&&(this.buttonDisabled=!0,this.$http({method:"POST",url:"/auth/reset-password",data:{token:e,password:this.password}}).then((()=>{this.result="You have successfully changed your password."})).catch((e=>{this.dataInvalid=!0,this.$store.dispatch("setError",e)})).finally((()=>{this.buttonDisabled=!1})))}}};const Ts=(0,f.Z)(Ps,[["render",Es],["__scopeId","data-v-656b3c89"]]);var Ds=Ts;const Ss=e=>((0,w.dD)("data-v-caebf324"),e=e(),(0,w.Cn)(),e),Ms={key:0},Cs={key:1},Is={key:2},Fs=Ss((()=>(0,w._)("label",{for:"title"},"Title",-1))),Rs=Ss((()=>(0,w._)("label",{for:"slug"},"Slug",-1))),$s=Ss((()=>(0,w._)("label",{for:"desc"},"Description",-1))),Us=Ss((()=>(0,w._)("textarea",{id:"desc",rows:"10",cols:"70"},null,-1))),Ns=["aria-busy"],xs={key:0};function Ls(e,s,t,a,o,n){const i=(0,w.up)("card-notification");return(0,w.wg)(),(0,w.iD)("article",null,[o.success?((0,w.wg)(),(0,w.iD)("h1",Cs,"Category created")):((0,w.wg)(),(0,w.iD)("h1",Ms,"Create category")),o.success?((0,w.wg)(),(0,w.j4)(i,{key:3,"success-message":"Congradulations! Please check\n    your email to verify your email address"})):((0,w.wg)(),(0,w.iD)("form",Is,[Fs,(0,w.wy)((0,w._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.title=e),type:"text",name:"title",id:"title"},null,512),[[r.nr,o.title]]),Rs,(0,w.wy)((0,w._)("input",{readonly:"","onUpdate:modelValue":s[1]||(s[1]=e=>n.slug=e),type:"text",name:"slug",id:"slug"},null,512),[[r.nr,n.slug]]),(0,w.wy)((0,w._)("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=e=>o.parentSlug=e),name:"parentSlug",iD:"parentSlug"},null,512),[[r.nr,o.parentSlug]]),$s,Us,(0,w._)("button",{type:"submit",id:"Login","aria-busy":o.buttonDisabled,onClick:s[3]||(s[3]=(0,r.iM)((e=>n.submitForm()),["prevent"]))},[o.buttonDisabled?(0,w.kq)("",!0):((0,w.wg)(),(0,w.iD)("span",xs,"Create Category"))],8,Ns)]))])}var Vs={name:"CreateCategoryPage",components:{CardNotification:oe},data(){return{title:null,desc:null,parentSlug:null,categories:[],buttonDisabled:null,errorMessage:"",success:!1,result:null,chrs:0}},computed:{slug(){if(!this.title)return"";let e=this.title.replace(/\s/g,"-");return e=e.toLowerCase(),encodeURIComponent(e)}},mounted(){this.parentSlug=this.$route.params.slug},params:{slug:String},methods:{resetFormErrors(){this.success=null,this.result=null,this.errorMessage=""},checkForm(){this.resetFormErrors();let e=!0;return this.title?this.slug?this.parentSlug||(this.parentIdInvalid=!0,this.errorMessage="Please eselect a parent category.",e=!1):(this.slugInvalid=!0,this.errorMessage="Please enter a slug.",e=!1):(this.titleInvalid=!0,this.errorMessage="Please enter a title.",e=!1),e},async submitForm(){this.resetFormErrors(),!0===this.checkForm()?(this.buttonDisabled=!0,this.$http({method:"POST",url:"/categories",data:{title:this.title,slug:this.slug,desc:this.desc,parentSlug:this.parentSlug}}).then((e=>{e.data&&(this.success=!0,this.result=e.data)})).catch((e=>{this.$store.dispatch("setError",e)})).finally((()=>{this.buttonDisabled=!1}))):this.$store.dispatch("setError",{message:this.errorMessage})}}};const As=(0,f.Z)(Vs,[["render",Ls],["__scopeId","data-v-caebf324"]]);var qs=As;const Os=(0,m.p7)({history:(0,m.PO)(),routes:[{name:"HomePage",path:"/",component:b},{name:"CategoryPage",path:"/d/:slug",component:S},{name:"register",path:"/register",component:le},{name:"verify-email",path:"/verify-email",component:pe},{name:"login",path:"/login",component:Te},{name:"send-verification-email",path:"/send-verification-email",component:Ye},{name:"forgot-pass",path:"/forgot-pass",component:xe},{name:"reset-password",path:"/reset-password",component:Ye},{name:"users",path:"/users",component:Ds},{name:"createCategoryPage",path:"/categories/:slug?",component:qs},{path:"/:notFound(.*)",component:ts}]});var Zs=Os;function zs(e,s,t,a,o,n){const i=(0,w.up)("the-header"),l=(0,w.up)("router-view"),d=(0,w.up)("the-footer"),u=(0,w.up)("modal-error");return(0,w.wg)(),(0,w.iD)(w.HY,null,[(0,w.Wm)(i),(0,w._)("main",null,[(0,w.Wm)(l,null,{default:(0,w.w5)((({Component:e})=>[(0,w.Wm)(r.uT,{name:"scale",mode:"out-in"},{default:(0,w.w5)((()=>[((0,w.wg)(),(0,w.j4)((0,w.LL)(e)))])),_:2},1024)])),_:1})]),(0,w.Wm)(d),(0,w.Wm)(u)],64)}const Ws={open:"",class:"modal"},Hs={class:"tab",title:"error"},Ks={class:"info"},Bs={key:0},js={key:1},Gs={key:2},Ys={key:3},Xs={key:4};function Js(e,s,t,a,o,n){const i=(0,w.up)("vue-feather");return e.errorTitle?((0,w.wg)(),(0,w.iD)("div",{key:0,class:"modal-container",onClick:s[3]||(s[3]=(0,r.iM)((e=>n.close()),["prevent"]))},[(0,w.Wm)(r.uT,{name:"scale",mode:"out-in"},{default:(0,w.w5)((()=>[(0,w._)("dialog",Ws,[(0,w._)("article",null,[(0,w._)("header",null,[(0,w._)("a",{href:"#close","aria-label":"Close",class:"close",onClick:s[0]||(s[0]=(0,r.iM)((e=>n.close()),["prevent"]))}),(0,w._)("h2",null,(0,g.zw)(e.errorTitle),1)]),(0,w._)("section",null,[(0,w._)("div",Hs,[(0,w.Wm)(i,{size:"3rem",type:"alert-triangle"})]),(0,w._)("div",Ks,[(0,w._)("ul",null,[e.errorMessage?((0,w.wg)(),(0,w.iD)("li",Bs,(0,g.zw)(e.errorMessage),1)):(0,w.kq)("",!0),e.errorFileName?((0,w.wg)(),(0,w.iD)("li",js,(0,g.zw)(e.errorFileName),1)):(0,w.kq)("",!0),e.errorLineNumber?((0,w.wg)(),(0,w.iD)("li",Gs,(0,g.zw)(e.errorLineNumber),1)):(0,w.kq)("",!0),e.errorStack?((0,w.wg)(),(0,w.iD)("li",Ys,[(0,w._)("a",{onClick:s[1]||(s[1]=e=>o.showErrorStack=!0)},"Show error stack")])):(0,w.kq)("",!0),o.showErrorStack?((0,w.wg)(),(0,w.iD)("li",Xs,(0,g.zw)(e.errorStack),1)):(0,w.kq)("",!0)])])]),(0,w._)("button",{onClick:s[2]||(s[2]=(0,r.iM)((e=>n.close()),["prevent"]))},"OK")])])])),_:1})])):(0,w.kq)("",!0)}var Qs={data(){return{title:"",showErrorStack:""}},components:{VueFeather:te.Z},computed:{...(0,n.Se)(["errorTitle","errorMessage","errorDetail","errorLineNumber","errorFileName","errorStack"])},methods:{close(){this.$store.dispatch("clearError")}}};const et=(0,f.Z)(Qs,[["render",Js],["__scopeId","data-v-20d29a3e"]]);var st=et;t(3948);const tt=(0,w.Uk)(" Articl.net "),rt={class:"right"},at={key:0},ot=(0,w.Uk)(" login "),nt=(0,w.Uk)(" create account "),it={key:1},lt=(0,w.Uk)(" new category ");function dt(e,s,t,a,o,n){const i=(0,w.up)("router-link"),l=(0,w.up)("user-icon");return(0,w.wg)(),(0,w.iD)("header",null,[(0,w._)("article",null,[(0,w._)("nav",null,[(0,w._)("ul",null,[(0,w._)("li",null,[(0,w.Wm)(i,{to:"/"},{default:(0,w.w5)((()=>[tt])),_:1})])]),(0,w._)("ul",rt,[e.isLoggedIn?((0,w.wg)(),(0,w.iD)("li",it,[(0,w._)("a",{href:"#",onClick:s[0]||(s[0]=(0,r.iM)(((...e)=>n.logout&&n.logout(...e)),["prevent"])),class:"nav-user"}," logout ")])):((0,w.wg)(),(0,w.iD)("li",at,[(0,w.Wm)(i,{to:"/login",class:"nav-user"},{default:(0,w.w5)((()=>[ot])),_:1}),(0,w.Wm)(i,{to:"/register",class:"nav-user"},{default:(0,w.w5)((()=>[nt])),_:1})])),(0,w._)("li",null,[(0,w.Wm)(i,{to:"/categories",class:"nav-user"},{default:(0,w.w5)((()=>[lt])),_:1})]),(0,w._)("li",null,[(0,w.Wm)(i,{to:"/users/me"},{default:(0,w.w5)((()=>[(0,w.Wm)(l,{size:"1.5x"})])),_:1})])])])])])}var ut=t(1799),ct={components:{UserIcon:ut.tBG},data(){return{theme:"light",tokens:null}},computed:{...(0,n.Se)(["isLoggedIn","accessTokenExpires","refreshTokenExpires"])},mounted(){const e=l.get("data-theme");this.theme="dark"!==e?"light":"dark",document.documentElement.setAttribute("data-theme",this.theme)},methods:{toggleTheme(){this.theme="light"===this.theme?"dark":"light",document.documentElement.setAttribute("data-theme",this.theme),localStorage.setItem("data-theme",this.theme)},logout(){this.$http({method:"POST",url:"/auth/logout",data:{refreshTokenValue:this.$store.getters.refreshTokenValue}}).then((e=>{e.data&&(this.loggedin=!1)})).catch((e=>{this.$store.dispatch("setError",e)})).finally((()=>{localStorage.clear(),this.$store.dispatch("logout")}))}}};const ht=(0,f.Z)(ct,[["render",dt],["__scopeId","data-v-62d44ff3"]]);var pt=ht;const mt=(0,w.Uk)(" ©"),wt={class:"copyright"};function gt(e,s,t,r,a,o){return(0,w.wg)(),(0,w.iD)("footer",null,[(0,w._)("article",null,[mt,(0,w._)("span",wt,(0,g.zw)(a.year)+" Articl, LLC",1)])])}var kt={data(){return{year:""}},beforeMount(){this.year=(new Date).getFullYear()}};const vt=(0,f.Z)(kt,[["render",gt]]);var yt=vt,ft={components:{TheHeader:pt,TheFooter:yt,ModalError:st}};const _t=(0,f.Z)(ft,[["render",zs]]);var bt=_t;const Et=(0,r.ri)(bt);function Pt(){const e=u();return Et.config.globalProperties.$http({method:"POST",url:"/auth/refresh-tokens",data:{refreshToken:e}})}const Tt=window.location.href.indexOf("localhost")>-1?"http://localhost:5000/v1":"https://api.articl.net/v1";function Dt(e){if(e.code>309)return void this.$store.dispatch("setError",e);const s=p(e);h(s.data.tokens),c(s.data.tokens),this.$route.query.redirect&&"/login"!==this.$route.query.redirect?this.$router.push({path:this.$route.query.redirect}):this.$router.push({name:"HomePage"})}Et.config.globalProperties.$http=o().create({baseURL:Tt}),Et.config.globalProperties.$http.interceptors.request.use((e=>{const s=e,t=d();return t&&(s.headers.Authorization=`Bearer ${t}`),Promise.resolve(s)}),(e=>Promise.reject(e)));const St=async e=>{var s;if(null!==e&&void 0!==e&&null!==(s=e.response)&&void 0!==s&&s.status)switch(e.response.status){case 400:break;case 401:if("login"===Zs.currentRoute.value.name)return Promise.reject(e.response.data);Zs.push({name:"login",query:{redirect:window.location.pathname+window.location.search}});break;case 403:try{const e=await Pt();Dt(e)}catch(t){return Promise.reject(t.response.data)}break;case 502:(void 0).$store.dispatch("setError",e);break;default:i.dispatch("setError",e);break}return Promise.reject(e)};Et.config.globalProperties.$http.interceptors.response.use((e=>200===e.status||201===e.status?Promise.resolve(e):Promise.reject(e)),St),Et.use(Zs),Et.use(i),Et.mount("#app")}},s={};function t(r){var a=s[r];if(void 0!==a)return a.exports;var o=s[r]={exports:{}};return e[r].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(s,r,a,o){if(!r){var n=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],o=e[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||n>=o)&&Object.keys(t.O).every((function(e){return t.O[e](r[l])}))?r.splice(l--,1):(i=!1,o<n&&(n=o));if(i){e.splice(u--,1);var d=a();void 0!==d&&(s=d)}}return s}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var r in s)t.o(s,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,r){var a,o,n=r[0],i=r[1],l=r[2],d=0;if(n.some((function(s){return 0!==e[s]}))){for(a in i)t.o(i,a)&&(t.m[a]=i[a]);if(l)var u=l(t)}for(s&&s(r);d<n.length;d++)o=n[d],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(u)},r=self["webpackChunkarticl_net"]=self["webpackChunkarticl_net"]||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(516)}));r=t.O(r)})();
//# sourceMappingURL=app.5812134f.js.map