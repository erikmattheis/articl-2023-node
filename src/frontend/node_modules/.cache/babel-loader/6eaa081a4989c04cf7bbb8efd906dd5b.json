{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-b82dc404\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Articl.net\");\n\nvar _hoisted_2 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\n});\n\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\n});\n\nvar _hoisted_4 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\n});\n\nvar _hoisted_5 = {\n  class: \"right\"\n};\nvar _hoisted_6 = {\n  key: 0\n};\n\nvar _hoisted_7 = /*#__PURE__*/_createTextVNode(\" login \");\n\nvar _hoisted_8 = /*#__PURE__*/_createTextVNode(\" create account \");\n\nvar _hoisted_9 = {\n  key: 1\n};\n\nvar _hoisted_10 = /*#__PURE__*/_createTextVNode(\" new category \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n\n  var _component_user_icon = _resolveComponent(\"user-icon\");\n\n  return _openBlock(), _createElementBlock(\"header\", null, [_createElementVNode(\"article\", null, [_createElementVNode(\"nav\", null, [_createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_1, _hoisted_2, _createTextVNode(\" accessTokenExpires:\" + _toDisplayString(_ctx.accessTokenExpires) + \" \" + _toDisplayString(new Date(_ctx.accessTokenExpires)), 1), _hoisted_3, _createTextVNode(\" refreshTokenExpires:\" + _toDisplayString(_ctx.refreshTokenExpires) + \" \" + _toDisplayString(new Date(_ctx.refreshTokenExpires)), 1), _hoisted_4, _createTextVNode(\" isLoggedIn:\" + _toDisplayString(_ctx.isLoggedIn), 1)];\n    }),\n    _: 1\n  })])]), _createElementVNode(\"ul\", _hoisted_5, [!_ctx.isLoggedIn ? (_openBlock(), _createElementBlock(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: \"/login\",\n    class: \"nav-user\"\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_7];\n    }),\n    _: 1\n  }), _createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"nav-user\"\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_8];\n    }),\n    _: 1\n  })])) : (_openBlock(), _createElementBlock(\"li\", _hoisted_9, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers(function () {\n      return $options.logout && $options.logout.apply($options, arguments);\n    }, [\"prevent\"])),\n    class: \"nav-user\"\n  }, \" logout \")])), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/categories\",\n    class: \"nav-user\"\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_10];\n    }),\n    _: 1\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/users/me\"\n  }, {\n    default: _withCtx(function () {\n      return [_createVNode(_component_user_icon, {\n        size: \"1.5x\"\n      })];\n    }),\n    _: 1\n  })])])])])]);\n}","map":{"version":3,"mappings":";;;;;;+CAMgC;;;sBAAWA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,EAAJ;;;;sBAC4CA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,EAAJ;;;;sBACGA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,EAAJ;;;;AAK9EC,OAAK,EAAC;;;;;;+CAEoC;;+CAEG;;;;;;gDAOI;;;;;;;uBAvB3DC,oBAgCS,QAhCT,EAgCS,IAhCT,EAgCS,CA/BPF,oBA8BU,SA9BV,EA8BU,IA9BV,EA8BU,CA7BRA,oBA4BM,KA5BN,EA4BM,IA5BN,EA4BM,CA3BJA,oBAQK,IARL,EAQK,IARL,EAQK,CAPHA,oBAMK,IANL,EAMK,IANL,EAMK,CALHG,aAIeC,sBAJf,EAIe;AAJFC,MAAE,EAAC;AAID,GAJf,EAAmB;sBAAC;AAAA,aAAW,0CAAI,yBACfC,iBAAEC,uBAAF,CADe,GACO,GADP,GACQD,qBAAME,IAAN,CAAWD,uBAAX,IAA6B,EADzC,EAC4CE,UAD5C,mBACgD,0BAC1DH,iBAAEC,wBAAF,CAD0D,GACnC,GADmC,GAClCD,qBAAME,IAAN,CAAWD,wBAAX,IAA8B,EAF5C,EAE+CG,UAF/C,mBAEmD,iBACtEJ,iBAAEC,eAAF,GAAY,EAHO,CAAX;AAAA,MAAD;;AAAA,GAAnB,CAKG,CANL,CAOG,CARL,CA2BI,EAlBJP,oBAiBK,IAjBL,cAiBK,EAhBQO,iCAAXL,oBAMK,IANL,EAMKS,UANL,EAMK,CALHR,aAA+DC,sBAA/D,EAA+D;AAAlDC,MAAE,EAAC,QAA+C;AAAtCJ,SAAK,EAAC;AAAgC,GAA/D;sBAA0C;AAAA,aAAO,YAAP;AAAA;;GAA1C,CAKG,EAHHE,aAEcC,sBAFd,EAEc;AAFDC,MAAE,EAAC,WAEF;AAFcJ,SAAK,EAAC;AAEpB,GAFd;sBAA6C;AAAA,aAE7C,YAF6C;AAAA;;GAA7C,CAGG,CANL,oBAOAC,oBAEK,IAFL,EAEKU,UAFL,EAEK,CADHZ,oBAAiE,GAAjE,EAAiE;AAA9Da,QAAI,EAAC,GAAyD;AAApDC,WAAK;AAAA,aAAUC,6DAAV;AAAA,OAAgB,WAAhB,EAA+C;AAA7Bd,SAAK,EAAC;AAAuB,GAAjE,EAAqD,UAArD,CACG,CAFL,EASG,EANHD,oBAAoF,IAApF,EAAoF,IAApF,EAAoF,CAAhFG,aAA2EC,sBAA3E,EAA2E;AAA9DC,MAAE,EAAC,aAA2D;AAA7CJ,SAAK,EAAC;AAAuC,GAA3E;sBAA+C;AAAA,aAAc,aAAd;AAAA;;GAA/C,CAAgF,CAApF,CAMG,EALHD,oBAIK,IAJL,EAIK,IAJL,EAIK,CAHHG,aAEcC,sBAFd,EAEc;AAFDC,MAAE,EAAC;AAEF,GAFd,EAA2B;sBACzB;AAAA,aAAmC,CAAnCF,aAAmCa,oBAAnC,EAAmC;AAAxBC,YAAI,EAAC;AAAmB,OAAnC,CAAmC,CAAnC;AAAA,MADyB;;AAAA,GAA3B,CAGG,CAJL,CAKG,CAjBL,CAkBI,CA5BN,CA6BQ,CA9BV,CA+BO,CAhCT","names":["_createElementVNode","class","_createElementBlock","_createVNode","_component_router_link","to","_toDisplayString","_ctx","Date","_hoisted_3","_hoisted_4","_hoisted_6","_hoisted_9","href","onClick","$options","_component_user_icon","size"],"sourceRoot":"","sources":["/Users/erikmattheis/Dropbox/articl/heroku/src/frontend/src/components/layout/TheHeader.vue"],"sourcesContent":["<template>\n  <header>\n    <article>\n      <nav>\n        <ul>\n          <li>\n            <router-link to=\"/\"> Articl.net<br>\n             accessTokenExpires:{{accessTokenExpires}} {{new Date(accessTokenExpires)}}<br>\n             refreshTokenExpires:{{refreshTokenExpires}} {{new Date(refreshTokenExpires)}}<br>\n             isLoggedIn:{{isLoggedIn}}\n             </router-link>\n          </li>\n        </ul>\n        <ul class=\"right\">\n          <li v-if=\"!isLoggedIn\">\n            <router-link to=\"/login\" class=\"nav-user\"> login </router-link>\n\n            <router-link to=\"/register\" class=\"nav-user\">\n              create account\n            </router-link>\n          </li>\n          <li v-else>\n            <a href=\"#\" @click.prevent=\"logout\" class=\"nav-user\"> logout </a>\n          </li>\n          <li><router-link to=\"/categories\" class=\"nav-user\"> new category </router-link></li>\n          <li>\n            <router-link to=\"/users/me\">\n              <user-icon size=\"1.5x\"></user-icon>\n            </router-link>\n          </li>\n        </ul>\n      </nav>\n    </article>\n  </header>\n</template>\n\n<script>\nimport { UserIcon } from '@zhuowenli/vue-feather-icons';\nimport { mapGetters } from 'vuex';\nimport localStorageService from '@/services/localStorageService';\n\nexport default {\n  components: {\n    UserIcon,\n  },\n  data() {\n    return {\n      theme: 'light',\n      tokens: null,\n    };\n  },\n  computed: {\n    ...mapGetters(['isLoggedIn', 'accessTokenExpires', 'refreshTokenExpires']),\n  },\n  mounted() {\n    const theme = localStorageService.get('data-theme');\n    this.theme = theme !== 'dark' ? 'light' : 'dark';\n    document.documentElement.setAttribute('data-theme', this.theme);\n  },\n  methods: {\n    toggleTheme() {\n      this.theme = this.theme === 'light' ? 'dark' : 'light';\n      document.documentElement.setAttribute('data-theme', this.theme);\n      localStorage.setItem('data-theme', this.theme);\n    },\n    logout() {\n      this.$http({\n        method: 'POST',\n        url: '/auth/logout',\n        data: {\n          refreshTokenValue: this.$store.getters.refreshTokenValue,\n        },\n      })\n        .then((result) => {\n          if (result.data) {\n            this.loggedin = false;\n          }\n        })\n        .catch((error) => {\n          this.$store.dispatch('setError', error);\n        })\n        .finally(() => {\n          localStorage.clear();\n          this.$store.dispatch('logout');\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\narticl nav {\n  overflow: auto;\n}\n.nav-user a {\n  width: 5rem;\n}\n.nav-user {\n  margin: 0 1rem;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}