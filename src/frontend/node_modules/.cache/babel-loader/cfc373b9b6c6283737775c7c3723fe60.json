{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-caebf324\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nconst _hoisted_3 = {\n  key: 2\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"title\"\n}, \"Title\", -1));\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"slug\"\n}, \"Slug\", -1));\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"desc\"\n}, \"Description\", -1));\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"textarea\", {\n  id: \"desc\",\n  rows: \"10\",\n  cols: \"70\"\n}, null, -1));\n\nconst _hoisted_8 = [\"aria-busy\"];\nconst _hoisted_9 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_card_notification = _resolveComponent(\"card-notification\");\n\n  return _openBlock(), _createElementBlock(\"article\", null, [!$data.success ? (_openBlock(), _createElementBlock(\"h1\", _hoisted_1, \"Create category\")) : (_openBlock(), _createElementBlock(\"h1\", _hoisted_2, \"Category created\")), !$data.success ? (_openBlock(), _createElementBlock(\"form\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.title = $event),\n    type: \"text\",\n    name: \"title\",\n    id: \"title\"\n  }, null, 512), [[_vModelText, $data.title]]), _hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    readonly: \"\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $options.slug = $event),\n    type: \"text\",\n    name: \"slug\",\n    id: \"slug\"\n  }, null, 512), [[_vModelText, $options.slug]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.parentSlug = $event),\n    name: \"parentSlug\",\n    iD: \"parentSlug\"\n  }, null, 512), [[_vModelText, $data.parentSlug]]), _hoisted_6, _hoisted_7, _createElementVNode(\"button\", {\n    type: \"submit\",\n    id: \"Login\",\n    \"aria-busy\": $data.buttonDisabled,\n    onClick: _cache[3] || (_cache[3] = _withModifiers($event => $options.submitForm(), [\"prevent\"]))\n  }, [!$data.buttonDisabled ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \"Create Category\")) : _createCommentVNode(\"\", true)], 8, _hoisted_8)])) : (_openBlock(), _createBlock(_component_card_notification, {\n    key: 3,\n    \"success-message\": \"Congradulations! Please check\\n    your email to verify your email address\"\n  }))]);\n}","map":{"version":3,"mappings":";;;;;;;;;;;;;;gEAKMA,oBAAgC,OAAhC,EAAgC;AAAzBC,KAAG,EAAC;AAAqB,CAAhC,EAAmB,OAAnB,EAAwB,EAAxB;;gEAOAD,oBAA8B,OAA9B,EAA8B;AAAvBC,KAAG,EAAC;AAAmB,CAA9B,EAAkB,MAAlB,EAAsB,EAAtB;;gEAiBED,oBAAqC,OAArC,EAAqC;AAA9BC,KAAG,EAAC;AAA0B,CAArC,EAAkB,aAAlB,EAA6B,EAA7B;;gEACFD,oBAAmD,UAAnD,EAAmD;AAAzCE,IAAE,EAAC,MAAsC;AAA/BC,MAAI,EAAC,IAA0B;AAArBC,MAAI,EAAC;AAAgB,CAAnD;;;;;;;;;uBA7BJC,oBAyCU,SAzCV,EAyCU,IAzCV,EAyCU,EAxCGC,+BAAXD,oBAAwC,IAAxC,EAAwCE,UAAxC,EAAoB,iBAApB,oBACAF,oBAAgC,IAAhC,EAAgCG,UAAhC,EAAW,kBAAX,EAuCQ,GAtCKF,+BAAbD,oBAmCO,MAnCP,EAmCOI,UAnCP,EAmCO,CAlCLC,UAkCK,kBAjCLV,oBAKE,OALF,EAKE;+DAJSM,cAAKK,OAId;AAHAC,QAAI,EAAC,MAGL;AAFAC,QAAI,EAAC,OAEL;AADAX,MAAE,EAAC;AACH,GALF,6BACWI,cAgCN,EA3BLQ,UA2BK,kBA1BLd,oBAME,OANF,EAME;AALAe,YAAQ,EAAR,EAKA;+DAJSC,gBAAIL,OAIb;AAHAC,QAAI,EAAC,MAGL;AAFAC,QAAI,EAAC,MAEL;AADAX,MAAE,EAAC;AACH,GANF,6BAEWc,gBAwBN,kBAnBLhB,oBAA2E,OAA3E,EAA2E;AAApEY,QAAI,EAAC,MAA+D;+DAA/CN,mBAAUK,OAAqC;AAAnCE,QAAI,EAAC,YAA8B;AAAjBI,MAAE,EAAC;AAAc,GAA3E,6BAA4BX,mBAmBvB,EAVHY,UAUG,EATLC,UASK,EARLnB,oBAOS,QAPT,EAOS;AANPY,QAAI,EAAC,QAME;AALPV,MAAE,EAAC,OAKI;AAJN,iBAAWI,oBAIL;AAHNc,WAAK,qDAAUJ,qBAAV,EAAoB,WAApB;AAGC,GAPT,IAMeV,sCAAbD,oBAAmD,MAAnD,EAAmDgB,UAAnD,EAA6B,iBAA7B,mCANF,gBAQK,CAnCP,oBAoCAC,aAC6DC,4BAD7D,EAC6D;UAAA;AADnC,uBAAgB;AACmB,GAD7D,EAEQ,CAzCV","names":["_createElementVNode","for","id","rows","cols","_createElementBlock","$data","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$event","type","name","_hoisted_5","readonly","$options","iD","_hoisted_6","_hoisted_7","onClick","_hoisted_9","_createBlock","_component_card_notification"],"sourceRoot":"","sources":["/Users/erikmattheis/Dropbox/articl/heroku/src/frontend/src/pages/categories/index.vue"],"sourcesContent":["<template>\n  <article>\n    <h1 v-if=\"!success\">Create category</h1>\n    <h1 v-else>Category created</h1>\n    <form v-if=\"!success\">\n      <label for=\"title\">Title</label>\n      <input\n        v-model=\"title\"\n        type=\"text\"\n        name=\"title\"\n        id=\"title\"\n      />\n      <label for=\"slug\">Slug</label>\n      <input\n        readonly\n        v-model=\"slug\"\n        type=\"text\"\n        name=\"slug\"\n        id=\"slug\"\n      />\n      <input type=\"text\" v-model=\"parentSlug\" name=\"parentSlug\" iD=\"parentSlug\"/>\n      <!--\n      <label for=\"parentSlug\">Parent</label>\n        <select v-model=\"parentSlug\" id=\"parentSlug>\" name=\"parentSlug\">\n            <option disabled value=\"\">Please select one</option>\n            <option value=\"0\">0</option>\n            <option v-for=\"category in categories\" :key=\"category.slug\">{{category.title}}</option>\n        </select>\n      -->\n        <label for=\"desc\">Description</label>\n      <textarea id=\"desc\" rows=\"10\" cols=\"70\"></textarea>\n      <button\n        type=\"submit\"\n        id=\"Login\"\n        :aria-busy=\"buttonDisabled\"\n        @click.prevent=\"submitForm()\"\n      >\n        <span v-if=\"!buttonDisabled\">Create Category</span>\n      </button>\n    </form>\n    <card-notification v-else success-message=\"Congradulations! Please check\n    your email to verify your email address\"></card-notification>\n  </article>\n</template>\n\n<script>\nimport CardNotification from '@/components/ui/CardNotification.vue';\n\nexport default {\n  name: 'CreateCategoryPage',\n  components: {\n    CardNotification,\n  },\n  data() {\n    return {\n      title: null,\n      desc: null,\n      parentSlug: null,\n      categories: [],\n      buttonDisabled: null,\n      errorMessage: '',\n      success: false,\n      result: null,\n      chrs: 0,\n    };\n  },\n  computed: {\n    slug() {\n      if (!this.title) {\n        return '';\n      }\n      let str = this.title.replace(/\\s/g, '-');\n      str = str.toLowerCase();\n      return encodeURIComponent(str);\n    },\n  },\n  mounted() {\n    this.parentSlug = this.$route.params.slug;\n  },\n  params: {\n    slug: String,\n  },\n  methods: {\n    resetFormErrors() {\n      this.success = null;\n      this.result = null;\n      this.errorMessage = '';\n    },\n    checkForm() {\n      this.resetFormErrors();\n      let passed = true;\n      if (!this.title) {\n        this.titleInvalid = true;\n        this.errorMessage = 'Please enter a title.';\n        passed = false;\n      } else if (!this.slug) {\n        this.slugInvalid = true;\n        this.errorMessage = 'Please enter a slug.';\n        passed = false;\n      } else if (!this.parentSlug) {\n        this.parentIdInvalid = true;\n        this.errorMessage = 'Please eselect a parent category.';\n        passed = false;\n      }\n      return passed;\n    },\n    async submitForm() {\n      this.resetFormErrors();\n      if (this.checkForm() === true) {\n        this.buttonDisabled = true;\n        this.$http({\n          method: 'POST',\n          url: '/categories',\n          data: {\n            title: this.title,\n            slug: this.slug,\n            desc: this.desc,\n            parentSlug: this.parentSlug,\n          },\n        })\n          .then((result) => {\n            if (result.data) {\n              this.success = true;\n              this.result = result.data;\n            }\n          })\n          .catch((error) => {\n            this.$store.dispatch('setError', error);\n          })\n          .finally(() => {\n            this.buttonDisabled = false;\n          });\n      } else {\n        this.$store.dispatch('setError', {\n          message: this.errorMessage,\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n*[readonly] {\n        cursor: not-allowed;\n\n}\n\n.success {\n  border: 8px solid green;\n  background-color:honeydew;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}