{"ast":null,"code":"import _asyncToGenerator from \"/Users/erikmattheis/Dropbox/articl/heroku/src/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nexport default {\n  name: 'EmailVerify',\n  data: function data() {\n    return {\n      resultTitle: null,\n      result: null\n    };\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.buttonDisabled = true;\n\n                _this.$http({\n                  method: 'GET',\n                  url: \"/auth/verify-email?token=\".concat(_this.$route.query.token)\n                }).then(function (response) {\n                  if (response.status === 204) {\n                    _this.result = 'Your email address' + ' is verified. Please <a href=\"/login\">log in</a> to continue.';\n                  } else {\n                    _this.$store.dispatch('setError', response);\n                  }\n                }).catch(function (error) {\n                  _this.dataInvalid = true;\n\n                  _this.$store.dispatch('setError', error);\n                }).finally(function () {\n                  _this.buttonDisabled = false;\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    this.submitForm();\n  }\n};","map":{"version":3,"mappings":";;;AAWA,eAAe;AACbA,MAAI,EAAE,aADO;AAEbC,MAFa,kBAEN;AACL,WAAO;AACLC,iBAAW,EAAE,IADR;AAELC,YAAM,EAAE;AAFH,KAAP;AAID,GAPY;AAQbC,SAAO,EAAE;AACDC,cADC,wBACY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACjB,qBAAI,CAACC,cAAL,GAAsB,IAAtB;;AACA,qBAAI,CAACC,KAAL,CAAW;AACTC,wBAAM,EAAE,KADC;AAETC,qBAAG,qCAA8B,KAAI,CAACC,MAAL,CAAYC,KAAZ,CAAkBC,KAAhD;AAFM,iBAAX,EAIGC,IAJH,CAIQ,UAACC,QAAD,EAAc;AAClB,sBAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,yBAAI,CAACZ,MAAL,GAAc,uBAChB,+DADE;AAEF,mBAHA,MAGO;AACL,yBAAI,CAACa,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiCH,QAAjC;AACF;AACD,iBAXH,EAYGI,KAZH,CAYS,UAACC,KAAD,EAAW;AAChB,uBAAI,CAACC,WAAL,GAAmB,IAAnB;;AACA,uBAAI,CAACJ,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiCE,KAAjC;AACD,iBAfH,EAgBGE,OAhBH,CAgBW,YAAM;AACb,uBAAI,CAACf,cAAL,GAAsB,KAAtB;AACD,iBAlBH;;AAFiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBlB;AAtBM,GARI;AAiCbgB,SAjCa,qBAiCH;AACR,SAAKjB,UAAL;AACD;AAnCY,CAAf","names":["name","data","resultTitle","result","methods","submitForm","buttonDisabled","$http","method","url","$route","query","token","then","response","status","$store","dispatch","catch","error","dataInvalid","finally","mounted"],"sourceRoot":"","sources":["/Users/erikmattheis/Dropbox/articl/heroku/src/frontend/src/pages/verify-email.vue"],"sourcesContent":["<template>\n  <article>\n    <h1>{{resultTitle}}</h1>\n    <p\n      v-if=\"result\"\n      v-html=\"result\"\n    ></p>\n  </article>\n</template>\n\n<script>\nexport default {\n  name: 'EmailVerify',\n  data() {\n    return {\n      resultTitle: null,\n      result: null,\n    };\n  },\n  methods: {\n    async submitForm() {\n      this.buttonDisabled = true;\n      this.$http({\n        method: 'GET',\n        url: `/auth/verify-email?token=${this.$route.query.token}`,\n      })\n        .then((response) => {\n          if (response.status === 204) {\n            this.result = 'Your email address' +\n          ' is verified. Please <a href=\"/login\">log in</a> to continue.';\n          } else {\n            this.$store.dispatch('setError', response);\n          }\n        })\n        .catch((error) => {\n          this.dataInvalid = true;\n          this.$store.dispatch('setError', error);\n        })\n        .finally(() => {\n          this.buttonDisabled = false;\n        });\n    },\n\n  },\n  mounted() {\n    this.submitForm();\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}