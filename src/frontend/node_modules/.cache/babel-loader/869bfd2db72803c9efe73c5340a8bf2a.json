{"ast":null,"code":"import CardNotification from '@/components/ui/CardNotification.vue';\nexport default {\n  name: 'CreateCategoryPage',\n  components: {\n    CardNotification\n  },\n\n  data() {\n    return {\n      title: null,\n      desc: null,\n      parentSlug: null,\n      categories: [],\n      buttonDisabled: null,\n      errorMessage: '',\n      success: false,\n      result: null,\n      chrs: 0\n    };\n  },\n\n  computed: {\n    slug() {\n      if (!this.title) {\n        return '';\n      }\n\n      let str = this.title.replace(/\\s/g, '-');\n      str = str.toLowerCase();\n      return encodeURIComponent(str);\n    }\n\n  },\n\n  mounted() {\n    this.parentSlug = this.$route.params.slug;\n  },\n\n  params: {\n    slug: String\n  },\n  methods: {\n    resetFormErrors() {\n      this.success = null;\n      this.result = null;\n      this.errorMessage = '';\n    },\n\n    checkForm() {\n      this.resetFormErrors();\n      let passed = true;\n\n      if (!this.title) {\n        this.titleInvalid = true;\n        this.errorMessage = 'Please enter a title.';\n        passed = false;\n      } else if (!this.slug) {\n        this.slugInvalid = true;\n        this.errorMessage = 'Please enter a slug.';\n        passed = false;\n      } else if (!this.parentSlug) {\n        this.parentIdInvalid = true;\n        this.errorMessage = 'Please eselect a parent category.';\n        passed = false;\n      }\n\n      return passed;\n    },\n\n    async submitForm() {\n      this.resetFormErrors();\n\n      if (this.checkForm() === true) {\n        this.buttonDisabled = true;\n        this.$http({\n          method: 'POST',\n          url: '/categories',\n          data: {\n            title: this.title,\n            slug: this.slug,\n            desc: this.desc,\n            parentSlug: this.parentSlug\n          }\n        }).then(result => {\n          if (result.data) {\n            this.success = true;\n            this.result = result.data;\n          }\n        }).catch(error => {\n          this.$store.dispatch('setError', error);\n        }).finally(() => {\n          this.buttonDisabled = false;\n        });\n      } else {\n        this.$store.dispatch('setError', {\n          message: this.errorMessage\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["CardNotification","name","components","data","title","desc","parentSlug","categories","buttonDisabled","errorMessage","success","result","chrs","computed","slug","str","replace","toLowerCase","encodeURIComponent","mounted","$route","params","String","methods","resetFormErrors","checkForm","passed","titleInvalid","slugInvalid","parentIdInvalid","submitForm","$http","method","url","then","catch","error","$store","dispatch","finally","message"],"sourceRoot":"","sources":["/Users/erikmattheis/Dropbox/articl/heroku/src/frontend/src/pages/categories/index.vue"],"sourcesContent":["<template>\n  <article>\n    <h1 v-if=\"!success\">Create category</h1>\n    <h1 v-else>Category created</h1>\n    <form v-if=\"!success\">\n      <label for=\"title\">Title</label>\n      <input\n        v-model=\"title\"\n        type=\"text\"\n        name=\"title\"\n        id=\"title\"\n      />\n      <label for=\"slug\">Slug</label>\n      <input\n        readonly\n        v-model=\"slug\"\n        type=\"text\"\n        name=\"slug\"\n        id=\"slug\"\n      />\n      <input type=\"text\" v-model=\"parentSlug\" name=\"parentSlug\" iD=\"parentSlug\"/>\n      <!--\n      <label for=\"parentSlug\">Parent</label>\n        <select v-model=\"parentSlug\" id=\"parentSlug>\" name=\"parentSlug\">\n            <option disabled value=\"\">Please select one</option>\n            <option value=\"0\">0</option>\n            <option v-for=\"category in categories\" :key=\"category.slug\">{{category.title}}</option>\n        </select>\n      -->\n        <label for=\"desc\">Description</label>\n      <textarea id=\"desc\" rows=\"10\" cols=\"70\"></textarea>\n      <button\n        type=\"submit\"\n        id=\"Login\"\n        :aria-busy=\"buttonDisabled\"\n        @click.prevent=\"submitForm()\"\n      >\n        <span v-if=\"!buttonDisabled\">Create Category</span>\n      </button>\n    </form>\n    <card-notification v-else success-message=\"Congradulations! Please check\n    your email to verify your email address\"></card-notification>\n  </article>\n</template>\n\n<script>\nimport CardNotification from '@/components/ui/CardNotification.vue';\n\nexport default {\n  name: 'CreateCategoryPage',\n  components: {\n    CardNotification,\n  },\n  data() {\n    return {\n      title: null,\n      desc: null,\n      parentSlug: null,\n      categories: [],\n      buttonDisabled: null,\n      errorMessage: '',\n      success: false,\n      result: null,\n      chrs: 0,\n    };\n  },\n  computed: {\n    slug() {\n      if (!this.title) {\n        return '';\n      }\n      let str = this.title.replace(/\\s/g, '-');\n      str = str.toLowerCase();\n      return encodeURIComponent(str);\n    },\n  },\n  mounted() {\n    this.parentSlug = this.$route.params.slug;\n  },\n  params: {\n    slug: String,\n  },\n  methods: {\n    resetFormErrors() {\n      this.success = null;\n      this.result = null;\n      this.errorMessage = '';\n    },\n    checkForm() {\n      this.resetFormErrors();\n      let passed = true;\n      if (!this.title) {\n        this.titleInvalid = true;\n        this.errorMessage = 'Please enter a title.';\n        passed = false;\n      } else if (!this.slug) {\n        this.slugInvalid = true;\n        this.errorMessage = 'Please enter a slug.';\n        passed = false;\n      } else if (!this.parentSlug) {\n        this.parentIdInvalid = true;\n        this.errorMessage = 'Please eselect a parent category.';\n        passed = false;\n      }\n      return passed;\n    },\n    async submitForm() {\n      this.resetFormErrors();\n      if (this.checkForm() === true) {\n        this.buttonDisabled = true;\n        this.$http({\n          method: 'POST',\n          url: '/categories',\n          data: {\n            title: this.title,\n            slug: this.slug,\n            desc: this.desc,\n            parentSlug: this.parentSlug,\n          },\n        })\n          .then((result) => {\n            if (result.data) {\n              this.success = true;\n              this.result = result.data;\n            }\n          })\n          .catch((error) => {\n            this.$store.dispatch('setError', error);\n          })\n          .finally(() => {\n            this.buttonDisabled = false;\n          });\n      } else {\n        this.$store.dispatch('setError', {\n          message: this.errorMessage,\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n*[readonly] {\n        cursor: not-allowed;\n\n}\n\n.success {\n  border: 8px solid green;\n  background-color:honeydew;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}