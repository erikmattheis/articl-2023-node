{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\n\nvar _hoisted_1 = /*#__PURE__*/_createTextVNode(\" New Category \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"article\", null, [_createElementVNode(\"h2\", null, _toDisplayString($data.title), 1\n  /* TEXT */\n  ), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories || [], function (category) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: category.slug\n    }, [_createVNode(_component_router_link, {\n      to: {\n        name: 'CategoryPage',\n        params: {\n          slug: category.slug\n        }\n      }\n    }, {\n      default: _withCtx(function () {\n        return [_createTextVNode(_toDisplayString(category.title), 1\n        /* TEXT */\n        )];\n      }),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\"])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'createCategoryPage',\n      params: {\n        slug: '0'\n      }\n    }\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_1];\n    }),\n    _: 1\n    /* STABLE */\n\n  })])])]);\n}","map":{"version":3,"mappings":";;+CAYoF;;;;;uBAXlFA,oBAkBU,SAlBV,EAkBU,IAlBV,EAkBU,CAjBRC,oBAAkB,IAAlB,EAAkB,IAAlB,EAAkBC,iBAAZC,WAAY,CAAlB,EAAW;AAAA;AAAX,GAiBQ,EAhBJF,oBAcK,IAdL,EAcK,IAdL,EAcK,oBAZDD,oBAIKI,SAJL,EAIK,IAJL,EAIKC,YAJkBF,oBAAU,EAI5B,EAJ4B,UAAtBG,QAAsB,EAAd;yBAAnBN,oBAIK,IAJL,EAIK;AAJqCO,SAAG,EAAED,QAAQ,CAACE;AAInD,KAJL,GACEC,aAEcC,sBAFd,EAEc;AAFAC,QAAE;AAAAC;AAAAC;AAAAL,gBAA0CF,QAAQ,CAACE;AAAnD;AAAA;AAEF,KAFd;wBACA;AAAA,eAAkB,mCAAhBF,QAAQ,CAACQ,QAAK;AAAA;SAAE,CAAlB;AAAA;;;;KADA;;AAAA,cADF;GAIK,CAJL;;AAAA,GAYC,GANHb,oBAIK,IAJL,EAIK,IAJL,EAIK,CAHHQ,aAEcC,sBAFd,EAEc;AAFAC,MAAE,EAAE;AAAAC;AAAAC;AAAAL;AAAA;AAAA;AAEJ,GAFd,EAAsE;sBAAE;AAAA,aAExE,YAFwE;AAAA,MAAF;;;;AAAA,GAAtE,CAGG,CAJL,CAMG,CAdL,CAgBI,CAlBV","names":["_createElementBlock","_createElementVNode","_toDisplayString","$data","_Fragment","_renderList","category","key","slug","_createVNode","_component_router_link","to","name","params","title"],"sourceRoot":"","sources":["/Users/erikmattheis/Dropbox/articl/heroku/src/frontend/src/pages/d/index.vue"],"sourcesContent":["<template>\n  <article>\n    <h2>{{title}}</h2>\n        <ul>\n\n            <li v-for=\"category in categories || []\" :key=\"category.slug\">\n              <router-link :to=\"{ name: 'CategoryPage', params: { slug: category.slug }}\">\n              {{category.title}}\n              </router-link>\n            </li>\n\n          <li>\n            <router-link :to=\"{ name: 'createCategoryPage', params: { slug: '0' }}\">\n              New Category\n            </router-link>\n          </li>\n\n        </ul>\n\n  </article>\n</template>\n\n<script>\n// import TheBreadcrumbs from '@/components/layout/TheBreadcrumbs.vue';\n// import CategoryChildren from '@/components/layout/CategoryChildren.vue';\n\nexport default {\n  name: 'CategoryPage',\n  // components: { TheBreadcrumbs, CategoryChildren },\n  data() {\n    return {\n      isLoading: true,\n      slug: null,\n      title: '',\n      categories: [],\n    };\n  },\n  created() {\n    this.categories = this.fetchData(this.$route.params.slug);\n  },\n  watch: {\n    '$route.params.slug': {\n      handler(slug) {\n        this.fetchData(slug);\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    async fetchData(slug) {\n      const category = await this.getCategoryPageBySlug(slug);\n      this.title = category.category.length ? category.category[0].title : '';\n      this.categories = category.categories;\n    },\n    getCategoryPageBySlug(slug) {\n      return this.$http({\n        method: 'GET',\n        url: `/d/${slug || ''}`,\n      })\n        .then((result) => {\n          if (result.data) {\n            return result.data;\n          }\n          return this.$store.dispatch('setError', result);\n        })\n        .catch((error) => this.$store.dispatch('setError', error));\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}