{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-9778edae\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Articl.net \");\n\nconst _hoisted_2 = {\n  class: \"right\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" login \");\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" create account \");\n\nconst _hoisted_6 = {\n  key: 1\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" new category \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  const _component_user_icon = _resolveComponent(\"user-icon\");\n\n  return _openBlock(), _createElementBlock(\"header\", null, [_createElementVNode(\"article\", null, [_createElementVNode(\"nav\", null, [_createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_hoisted_1]),\n    _: 1\n    /* STABLE */\n\n  })])]), _createElementVNode(\"ul\", _hoisted_2, [!_ctx.isLoggedIn ? (_openBlock(), _createElementBlock(\"li\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: \"/login\",\n    class: \"nav-user\"\n  }, {\n    default: _withCtx(() => [_hoisted_4]),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"nav-user\"\n  }, {\n    default: _withCtx(() => [_hoisted_5]),\n    _: 1\n    /* STABLE */\n\n  })])) : (_openBlock(), _createElementBlock(\"li\", _hoisted_6, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.logout && $options.logout(...args), [\"prevent\"])),\n    class: \"nav-user\"\n  }, \" logout \")])), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/categories\",\n    class: \"nav-user\"\n  }, {\n    default: _withCtx(() => [_hoisted_7]),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/users/me\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_user_icon, {\n      size: \"1.5x\"\n    })]),\n    _: 1\n    /* STABLE */\n\n  })])])])])]);\n}","map":{"version":3,"mappings":";;;;iDAMgC;;;AAGpBA,OAAK,EAAC;;;;;;iDAEoC;;iDAEG;;;;;;iDAOI;;;;;;;uBAnB3DC,oBA4BS,QA5BT,EA4BS,IA5BT,EA4BS,CA3BPC,oBA0BU,SA1BV,EA0BU,IA1BV,EA0BU,CAzBRA,oBAwBM,KAxBN,EAwBM,IAxBN,EAwBM,CAvBJA,oBAIK,IAJL,EAIK,IAJL,EAIK,CAHHA,oBAEK,IAFL,EAEK,IAFL,EAEK,CADHC,aAA8CC,sBAA9C,EAA8C;AAAjCC,MAAE,EAAC;AAA8B,GAA9C,EAAmB;sBAAC,MAAY,aAAb;;;;AAAA,GAAnB,CACG,CAFL,CAGG,CAJL,CAuBI,EAlBJH,oBAiBK,IAjBL,cAiBK,EAhBQI,iCAAXL,oBAMK,IANL,EAMKM,UANL,EAMK,CALHJ,aAA+DC,sBAA/D,EAA+D;AAAlDC,MAAE,EAAC,QAA+C;AAAtCL,SAAK,EAAC;AAAgC,GAA/D;sBAA0C,MAAO;;;;GAAjD,CAKG,EAHHG,aAEcC,sBAFd,EAEc;AAFDC,MAAE,EAAC,WAEF;AAFcL,SAAK,EAAC;AAEpB,GAFd;sBAA6C,MAE7C;;;;GAFA,CAGG,CANL,oBAOAC,oBAEK,IAFL,EAEKO,UAFL,EAEK,CADHN,oBAAiE,GAAjE,EAAiE;AAA9DO,QAAI,EAAC,GAAyD;AAApDC,WAAK,wDAAUC,2CAAV,EAAgB,WAAhB,EAA+C;AAA7BX,SAAK,EAAC;AAAuB,GAAjE,EAAqD,UAArD,CACG,CAFL,EASG,EANHE,oBAAoF,IAApF,EAAoF,IAApF,EAAoF,CAAhFC,aAA2EC,sBAA3E,EAA2E;AAA9DC,MAAE,EAAC,aAA2D;AAA7CL,SAAK,EAAC;AAAuC,GAA3E;sBAA+C,MAAc;;;;GAA7D,CAAgF,CAApF,CAMG,EALHE,oBAIK,IAJL,EAIK,IAJL,EAIK,CAHHC,aAEcC,sBAFd,EAEc;AAFDC,MAAE,EAAC;AAEF,GAFd,EAA2B;sBACzB,MAAmC,CAAnCF,aAAmCS,oBAAnC,EAAmC;AAAxBC,UAAI,EAAC;AAAmB,KAAnC,CAAmC,EADV;;;;AAAA,GAA3B,CAGG,CAJL,CAKG,CAjBL,CAkBI,CAxBN,CAyBQ,CA1BV,CA2BO,CA5BT","names":["class","_createElementBlock","_createElementVNode","_createVNode","_component_router_link","to","_ctx","_hoisted_3","_hoisted_6","href","onClick","$options","_component_user_icon","size"],"sourceRoot":"","sources":["/Users/erikmattheis/Dropbox/articl/heroku/src/frontend/src/components/layout/TheHeader.vue"],"sourcesContent":["<template>\n  <header>\n    <article>\n      <nav>\n        <ul>\n          <li>\n            <router-link to=\"/\"> Articl.net </router-link>\n          </li>\n        </ul>\n        <ul class=\"right\">\n          <li v-if=\"!isLoggedIn\">\n            <router-link to=\"/login\" class=\"nav-user\"> login </router-link>\n\n            <router-link to=\"/register\" class=\"nav-user\">\n              create account\n            </router-link>\n          </li>\n          <li v-else>\n            <a href=\"#\" @click.prevent=\"logout\" class=\"nav-user\"> logout </a>\n          </li>\n          <li><router-link to=\"/categories\" class=\"nav-user\"> new category </router-link></li>\n          <li>\n            <router-link to=\"/users/me\">\n              <user-icon size=\"1.5x\"></user-icon>\n            </router-link>\n          </li>\n        </ul>\n      </nav>\n    </article>\n  </header>\n</template>\n\n<script>\nimport { UserIcon } from '@zhuowenli/vue-feather-icons';\nimport { mapGetters } from 'vuex';\nimport localStorageService from '@/services/localStorageService';\n\nexport default {\n  components: {\n    UserIcon,\n  },\n  data() {\n    return {\n      theme: 'light',\n      tokens: null,\n    };\n  },\n  computed: {\n    ...mapGetters(['isLoggedIn', 'accessTokenExpires', 'refreshTokenExpires']),\n  },\n  mounted() {\n    const theme = localStorageService.get('data-theme');\n    this.theme = theme !== 'dark' ? 'light' : 'dark';\n    document.documentElement.setAttribute('data-theme', this.theme);\n  },\n  methods: {\n    toggleTheme() {\n      this.theme = this.theme === 'light' ? 'dark' : 'light';\n      document.documentElement.setAttribute('data-theme', this.theme);\n      localStorage.setItem('data-theme', this.theme);\n    },\n    logout() {\n      this.$http({\n        method: 'POST',\n        url: '/auth/logout',\n        data: {\n          refreshTokenValue: this.$store.getters.refreshTokenValue,\n        },\n      })\n        .then((result) => {\n          if (result.data) {\n            this.loggedin = false;\n          }\n        })\n        .catch((error) => {\n          this.$store.dispatch('setError', error);\n        })\n        .finally(() => {\n          localStorage.clear();\n          this.$store.dispatch('logout');\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\narticl nav {\n  overflow: auto;\n}\n.nav-user a {\n  width: 5rem;\n}\n.nav-user {\n  margin: 0 1rem;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}